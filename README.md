# GreatVideoEditor
Видеоредактор для работы на микроконтроллерах. Редактируйте видео прямо на вашей пердуине или Влиппере Зеро!

# Основные функции:
1. Чтение файлов mp4 (никаких AVI или MKV, но может быть ts)
2. Сохранение файлов
3. Изменение времени (константно, кривая времени)
4. Добавление (append) на таймлайн элементов по времени
5. Добавление (append) элементов по номеру семпла (номер кадра, пакет звука)
6. Замещение элементов (добавление с заменой, удаление) куска таймлайна по времени/семплу
7. Смещение таймлайна (в том числе после удаления)
8. Работа как со всей композицией в целом (звук и видео), так и с отдельными потоками.

Графический интерфейс будет выполнен с использованием библиотеки UltraGUI (расчитана на поддержку интерфейсов до 256х256 пикселей, 1 бит, оптимизирована под экраны 128х64 пикселя, 1 бит).

# Программный интерфейс:
**ВОРК ИН ПРОГРЕСС ХЕРЕ**

Этот интерфейс должен вмещать в себя всю вселенную видеоредактирования, что позволило бы реализовать свой видеоредактор с самыми смелыми желаниями и амбициями. Я слабо представляю, что я тут делаю, но как-то так:
```
void vid_append_segment(STREAM_INFO *dst_stream, STREAM_INFO *src_stream, float *src_time, float len);
void vid_append_samples(STREAM_INFO *dst_stream, STREAM_INFO *src_stream, int sample_num, int count);
void vid_set_segment(STREAM_INFO *dst_stream, float dst_time, STREAM_INFO *src_stream, float *src_time, float len);
void vid_set_samples(STREAM_INFO *dst_stream, int dst_position, STREAM_INFO *src_stream, int sample_num, int count);
```
По идее, этого должно хватить для захвата вселенной и всего такого.

Очень ненравится чередование обоих типов вызовов, изначально я вообще хотел сделать хелпер-функцию, которая будет пересчитывать время в семплы.

Не очень понятно куда засовывать кривую времени, если сегмент надо ускорить - семплы остаются на своих местах, но метки времени у них изменятся. Сделать функцию, которая будет брать кривую времени и патчить таймштампы на существующем потоке? Вроде бы норм.

Этот репозиторий создан для того, чтобы высрать говно из моего мозга в ваш, пожаловаться самому себе и для отладки при помощи уточки. Но вы можете срать в ищьюз тоже, если вам интересен принципиально новый видеоредактор или вы заинтересованы, чтобы я таки выложил записи с синичками.
